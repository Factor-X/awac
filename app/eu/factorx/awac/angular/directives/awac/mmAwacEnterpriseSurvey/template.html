<ng-virtual>
    <div ng-hide="$root.isLogin()">
        <div class="header">

            <!-- user block -->
            <table class="header-option">

                <tr>
                    <td>
                        <div>
                            <select ng-model="$parent.language">
                                <option value="en" ng-bind-html="'EN' | translate"></option>
                                <option value="fr" ng-bind-html="'FR' | translate"></option>
                                <option value="nl" ng-bind-html="'NL' | translate"></option>
                            </select>
                        </div>
                    </td>

                    <td>
                        <div>Gestion</div>
                    </td>
                    <td>
                        <div ng-show="$root.currentPerson!=null"><span
                                ng-bind-html="'WELCOME' | translate"></span>, <span
                                class="username">{{$root.currentPerson.firstName}} {{$root.currentPerson.lastName}}</span>
                        </div>
                        <div ng-show="$root.currentPerson==null">Your are currently not connected</div>
                    </td>

                </tr>

                <tr>

                    <td>

                        <button type="button" class="button confidentiality" mm-not-implemented>Confidentialité</button>
                        <button type="button" class="button help" mm-not-implemented>Assistance</button>
                    </td>

                    <td>


                        <!-- site manager button -->
                        <button type="button"
                                class="button user_manage"
                                ng-bind-html="'SITE_MANAGER_BUTTON' | translate"
                                ng-click="nav('/site_manager')"
                                ng-class="{'selected': isMenuCurrentlySelected('/site_manager') == true}">
                        </button>

                        <!-- user manager button -->
                        <button type="button"
                                class="button user_manage"
                                ng-bind-html="'USER_MANAGER_BUTTON' | translate"
                                ng-click="nav('/user_manager')"
                                ng-class="{'selected': isMenuCurrentlySelected('/user_manager') == true}">
                        </button>

                    </td>

                    <td>


                        <!-- user data button -->
                        <button type="button"
                                class="button user_manage"
                                ng-bind-html="'USER_DATA_BUTTON' | translate"
                                ng-click="nav('/user_data')"
                                ng-class="{'selected': isMenuCurrentlySelected('/user_data') == true}">
                        </button>

                        <!-- logout button -->
                        <button ng-show="$root.currentPerson!=null"
                                type="button"
                                ng-click="$root.logout();"
                                ng-bind-html="'LOGOUT_BUTTON' | translate"
                                class="button user_manage">
                        </button>

                    </td>
                </tr>
            </table>


            <div class="wallonie_logo"></div>
            <div class="awac_logo"></div>
            <div>
                <div class="calculateur_type" ng-bind-html="'TITLE_ENTERPRISE' | translate"></div>
                <div class="entreprise_name">{{ $root.organization.name }}</div>
            </div>

        </div>

        <div class="data_menu" ng-show="displayMenu()===true">
            <div class="data_date">
                <div ng-bind-html="'PERIOD_DATA' | translate"></div>
                <select ng-options="p.key as p.label for p in $root.periods" ng-model="periodKey"></select>
            </div>

            <div class="big_separator"></div>

            <div class="data_date_compare">
                <div>Site sélectionné</div>
                <select ng-options="s.scope as s.name for s in $root.organization.sites" ng-model="scopeId"></select>
            </div>

            <div class="big_separator"></div>

            <div class="data_date_compare">
                <div>Comparaison avec</div>
                <select ng-options="p.key as p.label for p in periodsForComparison" ng-model="periodToCompare"></select>
            </div>

            <div class="big_separator"></div>

            <div class="data_save">
                <div class="last_save" ng-hide="lastSaveTime===null">
                    <span ng-bind-html="'LAST_SAVE' | translate"></span><br>
                    {{lastSaveTime | date: 'medium' }}
                </div>
                <div class="small_separator"></div>
                <div class="save_button">
                    <button type="button" class="button save" ng-click="save()"
                            ng-bind-html="'SAVE_BUTTON' | translate"></button>
                </div>
            </div>
        </div>


        <div class="nav_tabs" ng-show="displayMenu()===true">
            <div class="nav_entreprise">
                <div class="site_menu">
                    <div class="site">
                        <button type="button" class="button verification" mm-not-implemented>Vérification</button>
                    </div>
                    <div class="menu">
                        <button class="button" ng-class="{'menu_current': isMenuCurrentlySelected('/enterprise-tab2') == true}" ng-click="nav('/enterprise-tab2')">
                            <div class="tab-title" ng-bind-html="'TAB2' | translate"></div>
                            <mm-awac-tab-progress-bar ng-value="getProgress('TAB2')"></mm-awac-tab-progress-bar>
                            <div class="menu_arrow"></div>
                        </button>
                        <button class="button" ng-class="{'menu_current': isMenuCurrentlySelected('/enterprise-tab3')  == true}" ng-click="nav('/enterprise-tab3')">
                            <div class="tab-title" ng-bind-html="'TAB3' | translate"></div>
                            <mm-awac-tab-progress-bar ng-value="getProgress('TAB3')"></mm-awac-tab-progress-bar>
                            <div class="menu_arrow"></div>
                        </button>
                        <button class="button" ng-class="{'menu_current': isMenuCurrentlySelected('/enterprise-tab4') == true}" ng-click="nav('/enterprise-tab4')">
                            <div class="tab-title" ng-bind-html="'TAB4' | translate"></div>
                            <mm-awac-tab-progress-bar ng-value="getProgress('TAB4')"></mm-awac-tab-progress-bar>
                            <div class="menu_arrow"></div>
                        </button>
                        <button class="button" ng-class="{'menu_current': isMenuCurrentlySelected('/enterprise-tab5') == true}" ng-click="nav('/enterprise-tab5')">
                            <div class="tab-title" ng-bind-html="'TAB5' | translate"></div>
                            <mm-awac-tab-progress-bar ng-value="getProgress('TAB5')"></mm-awac-tab-progress-bar>
                            <div class="menu_arrow"></div>
                        </button>
                        <button class="button" ng-class="{'menu_current': isMenuCurrentlySelected('/enterprise-tab6') == true}" ng-click="nav('/enterprise-tab6')">
                            <div class="tab-title" ng-bind-html="'TAB6' | translate"></div>
                            <mm-awac-tab-progress-bar ng-value="getProgress('TAB6')"></mm-awac-tab-progress-bar>
                            <div class="menu_arrow"></div>
                        </button>
                        <button class="button" ng-class="{'menu_current': isMenuCurrentlySelected('/enterprise-tab7') == true}" ng-click="nav('/enterprise-tab7')">
                            <div class="tab-title" ng-bind-html="'TAB7' | translate"></div>
                            <mm-awac-tab-progress-bar ng-value="getProgress('TAB7')"></mm-awac-tab-progress-bar>
                            <div class="menu_arrow"></div>
                        </button>
                    </div>
                </div>
                <div class="last_menu">
                    <button class="button" ng-class="{'menu_current': isMenuCurrentlySelected('/results') == true}" ng-click="nav('/results')">
                        <div class="tab-title">résultats</div>
                    </button>
                    <button class="button" mm-not-implemented>
                        <div class="tab-title">actions de réduction</div>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="{{getClassContent()}}" ng-view>
    </div>


    <div class="footer"></div>

</ng-virtual>