div
    div(ng-hide='$root.hideHeader()')
        .survey-header
            // user block
            table.survey-header-option
                tr
                    td
                        div
                            select(ng-options='l.value as l.label for l in $root.languages', ng-model='$root.language')
                    td
                        div(ng-bind-html="'SURVEY_INTERFACE_MANAGEMENT' | translate")
                    td
                        div(ng-show='$root.currentPerson!=null')
                            span(ng-bind-html='\'WELCOME\' | translate')
                            | ,
                            span.username {{$root.currentPerson.firstName}} {{$root.currentPerson.lastName}}

                tr
                    td
                        button.button.confidentiality(type='button', mm-not-implemented='mm-not-implemented', ng-bind-html="'SURVEY_INTERFACE_CONFIDENTIALITY' | translate")
                        button.button.help(
                            type='button',
                            ng-bind-html="'SURVEY_INTERFACE_ASSISTANCE' | translate",
                            ng-click="$root.showHelp()"
                        )
                    td
                        //  site manager button
                        button.button.user_manage(
                            type='button',
                            ng-bind-html='\'SITE_MANAGER_BUTTON\' | translate',
                            ng-click='isDisabled || $root.nav(\'/site_manager\')',
                            ng-class='{\'selected\': isMenuCurrentlySelected(\'/site_manager\') == true}',
                            ng-disabled='$root.currentPerson.isAdmin === false')
                        // user manager button
                        button.button.user_manage(
                            type='button',
                            ng-bind-html='\'USER_MANAGER_BUTTON\' | translate',
                            ng-click='isDisabled || $root.nav(\'/user_manager\')',
                            ng-class='{\'selected\': isMenuCurrentlySelected(\'/user_manager\') == true}',
                            ng-disabled='$root.currentPerson.isAdmin === false')
                    td
                        //  user data button
                        button.button.user_manage(type='button', ng-bind-html='\'USER_DATA_BUTTON\' | translate', ng-click='$root.nav(\'/user_data\')', ng-class='{\'selected\': isMenuCurrentlySelected(\'/user_data\') == true}')
                        // logout button
                        button.button.user_manage(ng-show='$root.currentPerson!=null', type='button', ng-click='$root.logout();', ng-bind-html='\'LOGOUT_BUTTON\' | translate')
            .wallonie_logo
            .awac_logo
            div
                .calculateur_type(ng-bind-html='\'TITLE_ENTERPRISE\' | translate')
                .entreprise_name {{ $root.organizationName }}
        .data_menu(ng-show='displayLittleMenu===true || displayMenu===true')
            .data_date
                div(ng-bind-html='\'PERIOD_DATA\' | translate')
                select(ng-options='p.key as p.label for p in $root.availablePeriods', ng-model='$root.periodSelectedKey')
            .big_separator
            .data_date_compare
                div(ng-bind-html="'SURVEY_INTERFACE_SELECTED_SITE' | translate")
                select(ng-options='s.scope as s.name for s in $root.mySites', ng-model='$root.scopeSelectedId')
            .big_separator
            .data_date_compare
                div(ng-bind-html="'SURVEY_INTERFACE_COMPARE_TO' | translate")
                select(ng-options='p.key as p.label for p in periodsForComparison', ng-model='$root.periodToCompare')
            .big_separator
            div
                button.button.verification(type='button',
                    ng-disabled="$root.closeableForms !== true || $root.currentPerson.isAdmin !== true",
                    ng-click="isDisabled || $root.closeForms()",
                    ng-bind-html='\'UNCLOSING_FORM\' | translate',
                    ng-show="$root.closedForms")
                button.button.verification(type='button',
                    ng-disabled="$root.closeableForms !== true || $root.currentPerson.isAdmin !== true",
                    ng-click="isDisabled || $root.closeForms()",
                    ng-bind-html='\'CLOSING_FORM\' | translate',
                    ng-hide="$root.closedForms")
                button.button.verification(
                    type='button',
                    ng-bind-html="'SURVEY_INTERFACE_VERIFICATION' | translate",
                    mm-not-implemented='mm-not-implemented',
                    ng-disabled="$root.closedForms !== true")
            .big_separator
            .data_save
                div
                .last_save(ng-hide='lastSaveTime===null')
                    span(ng-bind-html='\'LAST_SAVE\' | translate')
                    br
                    | {{lastSaveTime | date: 'medium' }}
                .small_separator
                .save_button
                    button.button.save(type='button', ng-click='save()', ng-bind-html='\'SAVE_BUTTON\' | translate')
        .nav_tabs(ng-show='displayMenu===true')
            .nav_entreprise
                .site_menu
                    .menu
                        button.button(ng-class='{\'menu_current\': isMenuCurrentlySelected(\'/form/TAB2\') == true}', ng-click='$root.nav(\'/form/TAB2\')')
                            .tab-title(ng-bind-html='\'TAB2\' | translate')
                            mm-awac-tab-progress-bar(ng-value='getProgress(\'TAB2\')')
                            .menu_arrow
                        button.button(ng-class='{\'menu_current\': isMenuCurrentlySelected(\'/form/TAB3\')  == true}', ng-click='$root.nav(\'/form/TAB3\')')
                            .tab-title(ng-bind-html='\'TAB3\' | translate')
                            mm-awac-tab-progress-bar(ng-value='getProgress(\'TAB3\')')
                            .menu_arrow
                        button.button(ng-class='{\'menu_current\': isMenuCurrentlySelected(\'/form/TAB4\') == true}', ng-click='$root.nav(\'/form/TAB4\')')
                            .tab-title(ng-bind-html='\'TAB4\' | translate')
                            mm-awac-tab-progress-bar(ng-value='getProgress(\'TAB4\')')
                            .menu_arrow
                        button.button(ng-class='{\'menu_current\': isMenuCurrentlySelected(\'/form/TAB5\') == true}', ng-click='$root.nav(\'/form/TAB5\')')
                            .tab-title(ng-bind-html='\'TAB5\' | translate')
                            mm-awac-tab-progress-bar(ng-value='getProgress(\'TAB5\')')
                            .menu_arrow
                        button.button(ng-class='{\'menu_current\': isMenuCurrentlySelected(\'/form/TAB6\') == true}', ng-click='$root.nav(\'/form/TAB6\')')
                            .tab-title(ng-bind-html='\'TAB6\' | translate')
                            mm-awac-tab-progress-bar(ng-value='getProgress(\'TAB6\')')
                            .menu_arrow
                        button.button(ng-class='{\'menu_current\': isMenuCurrentlySelected(\'/form/TAB7\') == true}', ng-click='$root.nav(\'/form/TAB7\')')
                            .tab-title(ng-bind-html='\'TAB7\' | translate')
                            mm-awac-tab-progress-bar(ng-value='getProgress(\'TAB7\')')
                            .menu_arrow
                .last_menu
                    button.button(ng-class='{\'menu_current\': isMenuCurrentlySelected(\'/results\') == true}', ng-click='$root.nav(\'/results\')')
                        .tab-title(ng-bind-html="'SURVEY_INTERFACE_RESULT' | translate")
                    button.button(mm-not-implemented='mm-not-implemented')
                        .tab-title(ng-bind-html="'SURVEY_INTERFACE_REDUCTION' | translate")

    div(class="{{getClassContent()}}",ng-view)
    .footer
